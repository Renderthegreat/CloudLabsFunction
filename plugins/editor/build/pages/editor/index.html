<!doctype html>
<html lang="en">
  <head>
    <title>website editor.</title>
  </head>
  <body>
    <div id="app">
      <div id='dirEdit'>
        <button id='newFile' onclick="newFile()">New File</button><textarea id='filename'></textarea><br/>
        <ul id='dirFiles'>
          
        </ul>
        
      </div>
      <button id='exit' onclick='end()'>End access</button>
    </div>
    <script src='dir.js'>
      
    </script>
    
    <script>
      async function newFile(){
        var filename = document.getElementById('filename').value;
        var dirFiles = document.getElementById('dirFiles');
        var newFile = document.createElement('li');
        newFile.innerHTML = filename;
        dirFiles.appendChild(newFile);
        let file = location.origin+'/'+location.pathname+'edit/api/new/?file='+filename
        let data = await fetch(file)
        data = await data.text()
        window.location.reload();
      }
      async function end(){
        let url = location.origin+'/'+location.pathname+'edit/api/end'
        let data = await fetch(url)
        window.location.reload();
      }
    </script>
  </body>
  <style>
    button{
        background-color: #4CAF50;
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        cursor: pointer;
    }
    #exit {
      background-color: #f44336;
      padding: 8px 12px;
      
    }
    textarea{
        width: 100%;
        height: 10px;
        padding: 12px 20px;
        box-sizing: border-box;
        border: 2px solid #ccc;
        border-radius: 4px;
        background-color: #f8f8f8;
        font-size: 16px;
        resize: none;
    }
    body{
        font-family: Arial, Helvetica, sans-serif;
        background-color: #f1f1f1;
    }
    a{
        text-decoration: none;
        color: #4CAF50;
    }
    li{

    }
  </style>
</html>